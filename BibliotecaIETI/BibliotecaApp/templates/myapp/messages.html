{% if messages %}
<div id="messages-container" class="fixed top-20 right-1/2 transform translate-x-1/2 z-50">
    {% for message in messages %}
    <div
        id="alert-{{ forloop.counter }}"
        class="alert-{{ message.tags }} flex items-center p-4 mb-4 rounded-lg"
        role="alert"
    >
        <span class="sr-only">{{ message.tags }}</span>
        <div class="ms-3 text-sm font-medium pr-4">{{ message }}</div>
        <button
            type="button"
            class="button-{{ message.tags }} ms-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex items-center justify-center h-8 w-8"
            data-dismiss-target="#alert-{{ forloop.counter }}"
            aria-label="Close">
            <span class="sr-only">Tancar</span>
            <svg
                class="w-3 h-3"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 14 14"
            >
                <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                />
            </svg>
        </button>
    </div>
    {% endfor %}
</div>
{% endif %}

<script>
    // close alert when click add a class named hide 
    document.querySelectorAll('[data-dismiss-target]').forEach((button) => {
        button.addEventListener('click', (event) => {
            const target = document.querySelector(button.getAttribute('data-dismiss-target'));
            target.classList.add('hide');
        });
    });


</script>
